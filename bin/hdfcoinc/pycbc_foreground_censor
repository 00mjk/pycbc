#!/bin/env python
"""Make segment file to blind the results from foreground related triggers """

import argparse, logging, pycbc.version, h5py

parser = argparse.AgumentParser(desc=__doc__)
parser.add_argument('--version', action='version', version=pycbc.version.git_verbose_msg)
parser.add_argument('--verbose', action='store_true')
parser.add_argument('--veto-window', type=float, 
                    help="Time in seconds around each zerolag trigger to "
                         "veto ")
parser.add_argument('--foreground-triggers', 
                    help="HDF file containing the zerolag foreground triggers "
                         "from the analysis")
parser.add_argument('--veto-file',
                    help="Baseline veto information that is added to the outptut")
parser.add_argument('--segment-name', 
                    help="Segment name to use from the input veto file")
parser.add_argument('--output-file', help='Name of the output segment file')
parser.add_argument('--output-segment-name',    
                    help="(optional), Name of output segment file list",
                    default="censor_foreground")
args = parser.parse_args()

pycbc.init_logging(args.verbose)

logging.info('start')

f = h5py.File(args.foreground_triggers, 'r')


logging.info('done')
