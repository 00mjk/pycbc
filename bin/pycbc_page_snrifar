#!/usr/bin/python
""" Make table of the foreground coincident events
"""
import argparse, h5py, numpy, logging

parser = argparse.ArgumentParser()
# General required options
parser.add_argument('--trigger-file')
parser.add_argument('--verbose', action='count')
parser.add_argument('--output-file')
args = parser.parse_args()

if args.verbose:
    log_level = logging.INFO
    logging.basicConfig(format='%(asctime)s : %(message)s', level=log_level)
    
logging.info('Read in the data')
f = h5py.File(args.trigger_file, 'r')
stat1 = f['foreground/stat1'][:]
stat2 = f['foreground/stat2'][:]
time1 = f['foreground/time1'][:]
time2 = f['foreground/time2'][:]
template_id = f['foreground/template_id'][:]
ifar = f['foreground/ifar'][:]
fap = f['foreground/fap'][:]
fan = f['foreground/fan'][:]

back_fan = f['background/fan'][:]
back_ifar = f['background/ifar'][:]
logging.info('Found %s foreground triggers' % len(stat1))

